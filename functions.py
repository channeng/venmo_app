#User Profile info
all_txns = [{u'status': u'settled', u'date_completed': u'2015-07-18T02:06:46', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}}, u'amount': 6.7, u'actor': {u'username': u'geraldd', u'first_name': u'Gerald', u'last_name': u'Tan', u'display_name': u'Gerald Tan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v2/f/00c6f5b7-8e45-4bf6-8106-7b0aa64d2449', u'id': u'1593081207980032268', u'date_joined': u'2015-01-08T00:47:59'}, u'note': u'Food', u'audience': u'private', u'action': u'pay', u'date_created': u'2015-07-18T02:06:46', u'date_reminded': None, u'id': u'1731553029934547090'},{u'status': u'settled', u'date_completed': u'2015-07-17T16:45:18', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'ZhengYang-Tean', u'first_name': u'Zheng Yang', u'last_name': u'Tean', u'display_name': u'Zheng Yang Tean', u'about': u' ', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/d598f5d6-624d-4dbc-a158-b4e1a37d8b19', u'id': u'1588867996057600044', u'date_joined': u'2015-01-02T05:17:05'}}, u'amount': 41.05, u'actor': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}, u'note': u'AT&T phone bill', u'audience': u'private', u'action': u'pay', u'date_created': u'2015-07-17T16:45:17', u'date_reminded': None, u'id': u'1731270429819011375'},{u'status': u'settled', u'date_completed': u'2015-07-17T08:22:36', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'jjwuz', u'first_name': u'Jiajun', u'last_name': u'Wu', u'display_name': u'Jiajun Wu', u'about': u'No Short Bio', u'profile_picture_url': u'https://s3.amazonaws.com/venmo/no-image.gif', u'id': u'1588041164521472482', u'date_joined': u'2015-01-01T01:54:19'}}, u'amount': 10.0, u'actor': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}, u'note': u'Cash', u'audience': u'private', u'action': u'pay', u'date_created': u'2015-07-17T08:22:36', u'date_reminded': None, u'id': u'1731017417129197959'},{u'status': u'settled', u'date_completed': u'2015-07-17T08:22:48', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}}, u'amount': 10.9, u'actor': {u'username': u'horensen', u'first_name': u'Ren Sen', u'last_name': u'Ho', u'display_name': u'Ren Sen Ho', u'about': u' Add me as a friend for benefits.', u'profile_picture_url': u'https://venmopics.appspot.com/u/v5/s/cc260fe4-86fa-42fd-83e0-ba6e3dabe7cb', u'id': u'1588870982402048143', u'date_joined': u'2015-01-02T05:23:01'}, u'note': u'Dinner at Ling Ling Cuisine Restaurant', u'audience': u'private', u'action': u'charge', u'date_created': u'2015-07-17T06:59:27', u'date_reminded': None, u'id': u'1730975566456160479'},{u'status': u'cancelled', u'date_completed': u'2015-07-17T08:22:50', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}}, u'amount': 2.0, u'actor': {u'username': u'jjwuz', u'first_name': u'Jiajun', u'last_name': u'Wu', u'display_name': u'Jiajun Wu', u'about': u'No Short Bio', u'profile_picture_url': u'https://s3.amazonaws.com/venmo/no-image.gif', u'id': u'1588041164521472482', u'date_joined': u'2015-01-01T01:54:19'}, u'note': u'Test', u'audience': u'private', u'action': u'charge', u'date_created': u'2015-07-16T07:21:52', u'date_reminded': u'2015-07-16T07:22:30', u'id': u'1730262072161206562'},{u'status': u'settled', u'date_completed': u'2015-07-13T19:57:47', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}}, u'amount': 2.0, u'actor': {u'username': u'teemingchew', u'first_name': u'Tee Ming', u'last_name': u'Chew', u'display_name': u'Tee Ming Chew', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v2/s/d722e611-600c-4072-8994-2518c3b1affb', u'id': u'1588784453910528348', u'date_joined': u'2015-01-02T02:31:06'}, u'note': u'Thanks!!', u'audience': u'private', u'action': u'pay', u'date_created': u'2015-07-13T19:57:47', u'date_reminded': None, u'id': u'1728468209746576299'},{u'status': u'settled', u'date_completed': u'2015-07-16T16:17:46', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'geraldd', u'first_name': u'Gerald', u'last_name': u'Tan', u'display_name': u'Gerald Tan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v2/f/00c6f5b7-8e45-4bf6-8106-7b0aa64d2449', u'id': u'1593081207980032268', u'date_joined': u'2015-01-08T00:47:59'}}, u'amount': 5.0, u'actor': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}, u'note': u'Uber back from ling ling', u'audience': u'private', u'action': u'charge', u'date_created': u'2015-07-12T02:34:33', u'date_reminded': None, u'id': u'1727218362645218253'},{u'status': u'settled', u'date_completed': u'2015-07-16T16:17:53', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'geraldd', u'first_name': u'Gerald', u'last_name': u'Tan', u'display_name': u'Gerald Tan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v2/f/00c6f5b7-8e45-4bf6-8106-7b0aa64d2449', u'id': u'1593081207980032268', u'date_joined': u'2015-01-08T00:47:59'}}, u'amount': 14.0, u'actor': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}, u'note': u'Ling ling treat eric', u'audience': u'private', u'action': u'charge', u'date_created': u'2015-07-12T02:33:07', u'date_reminded': None, u'id': u'1727217634849587878'},{u'status': u'settled', u'date_completed': u'2015-07-09T06:01:47', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}}, u'amount': 9.8, u'actor': {u'username': u'teoh-zetong', u'first_name': u'Teoh', u'last_name': u'Zetong', u'display_name': u'Teoh Zetong', u'about': u' ', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/197e425c-60a8-4b3a-a3a2-1e96e9d16155', u'id': u'1488630379970560660', u'date_joined': u'2014-08-16T22:02:50'}, u'note': u'Porridge and Calamari', u'audience': u'private', u'action': u'charge', u'date_created': u'2015-07-09T05:56:07', u'date_reminded': None, u'id': u'1725145481505407328'},{u'status': u'settled', u'date_completed': u'2015-07-08T00:35:13', u'target': {u'phone': None, u'type': u'user', u'email': None, u'user': {u'username': u'channeng', u'first_name': u'Shannon', u'last_name': u'Chan', u'display_name': u'Shannon Chan', u'about': u'No Short Bio', u'profile_picture_url': u'https://venmopics.appspot.com/u/v1/f/1c780c31-f95c-4f80-8c4c-aeaa6d74273d', u'id': u'1589256027897856796', u'date_joined': u'2015-01-02T18:08:02'}}, u'amount': 8.0, u'actor': {u'username': u'lee-dongwei', u'first_name': u'Lee', u'last_name': u'Dongwei', u'display_name': u'Lee Dongwei', u'about': u' ', u'profile_picture_url': u'https://graph.facebook.com/v2.0/643111968/picture?type=square', u'id': u'1481351014383616180', u'date_joined': u'2014-08-06T21:00:02'}, u'note': u"for mojo jojo's chicken", u'audience': u'private', u'action': u'charge', u'date_created': u'2015-07-07T23:27:37', u'date_reminded': None, u'id': u'1724225165744669483'}]

def venmo_balance(user_data):
	return user_data["balance"]

def user_profile(user_data):
	return user_data["user"]

def first_name(user_data):
	return user_data["user"]["first_name"]

def display_name(user_data):
	return user_data["user"]["display_name"]

def pic_url(user_data):
	return user_data["user"]["profile_picture_url"]

#Transaction info

def total_txns_found(all_txns):   # Quite useless
	return len(all_txns)

def txn_info(all_txns,param):
	data = []
	if param == "actor":
		for i in range(len(all_txns)):
			try:
				actor = all_txns[i]["actor"]["user"]["first_name"]
			except KeyError:
				actor = all_txns[i]["actor"]["first_name"]
			data.append(actor)
	if param == "target":
		for i in range(len(all_txns)):
			try:
				actor = all_txns[i]["target"]["user"]["first_name"]
			except KeyError:
				actor = all_txns[i]["target"]["first_name"]
			data.append(actor)
	else:
		for i in range(len(all_txns)):
			data.append(all_txns[i][param])
	return data

# PARAMS
# status
# date_completed
# target
# amount
# actor
# note
# audience
# action
# date_created
# date_reminded
# id
def read_txn_outloud(txn):
	try:
		actor = txn["actor"]["user"]["first_name"]
	except KeyError:
		actor = txn["actor"]["first_name"]
	action = txn["action"]
	try:
		target = txn["target"]["user"]["first_name"]
	except KeyError:
		target = txn["target"]["first_name"]

	amount = txn["amount"]
	note = txn["note"]
	date_created = txn["date_created"]
	return ("%s: %-10s %-6s %-10s %s for %s") %(date_created,actor,action,target,amount,note)

def read_all_txn(all_txns):
	counter = 0
	for i in range(len(all_txns)):
		counter +=1
		print "%s %s" %(counter,read_txn_outloud(all_txns[i]))

def filter_txn_is(all_txns,param,type,value):   #all_txns,status/amount,is/not,value
	data = []
	filter_crit = txn_info(all_txns,param)
	if type == "is":
		for i in range(len(filter_crit)):
			if filter_crit[i] == value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "not":
		for i in range(len(filter_crit)):
			if filter_crit[i] == value:
				pass
			else:
				data.append(all_txns[i])
	return data

def filter_amt(all_txns,type,value):   #all_txns,status/amount,eql/gt/lt/gte/lte,value
	data = []
	filter_crit = txn_info(all_txns,"amount") 
	print filter_crit
	if type == "eql":
		for i in range(len(filter_crit)):
			if filter_crit[i] == value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "gt":
		for i in range(len(filter_crit)):
			if filter_crit[i] > value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "gte":
		for i in range(len(filter_crit)):
			if filter_crit[i] >= value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "lt":
		for i in range(len(filter_crit)):
			if filter_crit[i] < value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "lte":
		for i in range(len(filter_crit)):
			if filter_crit[i] <= value:
				data.append(all_txns[i])
			else:
				pass
	return data

def filter_date(all_txns,date_param,type,date_value):    #all_txns,date_created/date_completed,eql/gt/lt/gte/lte,value
	data = []
	filter_crit = txn_info(all_txns,date_param) 
	print filter_crit
	if type == "eql":
		for i in range(len(filter_crit)):
			if filter_crit[i] > date_value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "gt":
		for i in range(len(filter_crit)):
			if filter_crit[i] > date_value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "gte":
		for i in range(len(filter_crit)):
			if filter_crit[i] >= date_value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "lt":
		for i in range(len(filter_crit)):
			if filter_crit[i] < date_value:
				data.append(all_txns[i])
			else:
				pass
	elif type == "lte":
		for i in range(len(filter_crit)):
			if filter_crit[i] <= date_value:
				data.append(all_txns[i])
			else:
				pass
	return data

read_all_txn(all_txns)

